!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.ChimeePluginControlbar=t(require("react"),require("react-dom")):e.ChimeePluginControlbar=t(e.React,e.ReactDOM)}(window,(function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(t,n){t.exports=e},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var i=o.apply(null,r);i&&e.push(i)}else if("object"===a)for(var c in r)n.call(r,c)&&r[c]&&e.push(c)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,n){e.exports=t},function(e,t,n){var r=n(4);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};n(6)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(5)(!1)).push([e.i,"container {\n  position: relative;\n}\ncontainer,\nvideo {\n  display: block;\n  width: 100%;\n  height: 100%;\n  background: #000;\n  outline: none;\n  overflow: hidden;\n}\nvideo:focus {\n  outline: none;\n}\n.chimee-controlbar {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  background: rgba(0, 0, 0, 0.1);\n  user-select: none;\n  clear: both;\n}\n.chimee-controlbar * {\n  box-sizing: border-box;\n}\n.chimee-controlbar__float--left {\n  float: left;\n}\n.chimee-controlbar__float--right {\n  float: right;\n  margin-right: 20px;\n}\n.chimee-controlbar__progress {\n  position: relative;\n  width: 100%;\n  height: 4px;\n  background: rgba(255, 255, 255, 0.3);\n  cursor: pointer;\n  transition: all linear 0.1s;\n}\n.chimee-controlbar__progress:hover,\n.chimee-controlbar__progress.active {\n  height: 8px;\n}\n.chimee-controlbar__progress:hover .chimee-controlbar__progress__point,\n.chimee-controlbar__progress.active .chimee-controlbar__progress__point {\n  bottom: -3px;\n  display: block;\n}\n.chimee-controlbar__progress__buff,\n.chimee-controlbar__progress__play {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  background: rgba(255, 255, 255, 0.5);\n  transition: all linear 0.1s;\n}\n.chimee-controlbar__progress__play {\n  background: #E94844;\n}\n.chimee-controlbar__progress__point {\n  position: absolute;\n  margin-left: -7px;\n  bottom: -5px;\n  transition: all linear 0.1s;\n  display: none;\n}\n.chimee-controlbar__progress__point__circle {\n  width: 14px;\n  height: 14px;\n  background: #E94844;\n  border-radius: 50%;\n  position: relative;\n}\n.chimee-controlbar__progress__point__circle::before {\n  content: '';\n  position: absolute;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  background: rgba(233, 72, 68, 0.3);\n  top: -5px;\n  left: -5px;\n}\n.chimee-controlbar__progress__point__text {\n  padding: 4px 5px 4px 6px;\n  line-height: 12px;\n  font-size: 12px;\n  color: #FFF;\n  background: rgba(0, 0, 0, 0.6);\n  border-radius: 2px;\n  margin-bottom: 7px;\n  margin-left: -12px;\n  user-select: none;\n}\n.chimee-controlbar__groups {\n  height: 46px;\n}\n.chimee-controlbar__button {\n  width: 18px;\n  height: 18px;\n  overflow: hidden;\n  fill: #FFF;\n  float: left;\n  margin-left: 20px;\n  margin-top: 14px;\n  cursor: pointer;\n  opacity: 0.95;\n}\n.chimee-controlbar__button:hover {\n  opacity: 1;\n}\n.chimee-controlbar__play--time {\n  color: #FFF;\n  font-size: 12px;\n  line-height: 46px;\n  float: left;\n  margin-left: 24px;\n}\n.chimee-controlbar__play--time__spliter,\n.chimee-controlbar__play--time__total {\n  opacity: 0.5;\n}\n.chimee-controlbar__playback-rate {\n  position: relative;\n  padding-top: 10px;\n  float: left;\n}\n.chimee-controlbar__playback-rate__list__container {\n  position: absolute;\n  margin-left: -50%;\n  top: -204px;\n  padding-bottom: 22px;\n  display: none;\n}\n.chimee-controlbar__playback-rate__list {\n  background: rgba(0, 0, 0, 0.8);\n  border-radius: 3px;\n  padding: 8px 0;\n  list-style-type: none;\n  margin: 0;\n}\n.chimee-controlbar__playback-rate__list li {\n  width: 100px;\n  font-size: 14px;\n  color: #FFF;\n  height: 36px;\n  line-height: 36px;\n  text-align: center;\n  cursor: pointer;\n}\n.chimee-controlbar__playback-rate__list li:hover {\n  background: rgba(255, 255, 255, 0.08);\n}\n.chimee-controlbar__playback-rate__list li:hover,\n.chimee-controlbar__playback-rate__list li.active {\n  color: #E94844;\n}\n.chimee-controlbar__playback-rate:hover .chimee-controlbar__playback-rate__list__container {\n  display: block;\n}\n.chimee-controlbar__playback-rate__text {\n  font-size: 14px;\n  color: #FFF;\n  line-height: 20px;\n  padding: 3px 12px;\n  background: rgba(0, 0, 0, 0.3);\n  border-radius: 13px;\n  text-align: center;\n  min-width: 56px;\n  cursor: pointer;\n}\n.chimee-controlbar__volume {\n  position: relative;\n  float: left;\n}\n.chimee-controlbar__volume__progress__container {\n  position: absolute;\n  margin-left: 8px;\n  top: -118px;\n  padding-bottom: 28px;\n  display: none;\n}\n.chimee-controlbar__volume:hover .chimee-controlbar__volume__progress__container,\n.chimee-controlbar__volume.active .chimee-controlbar__volume__progress__container {\n  display: block;\n}\n.chimee-controlbar__volume__progress {\n  width: 42px;\n  height: 110px;\n  padding: 12px 0;\n  cursor: pointer;\n  border-radius: 3px;\n  background: rgba(0, 0, 0, 0.8);\n}\n.chimee-controlbar__volume__progress__track {\n  width: 4px;\n  height: 90px;\n  margin: 0 auto;\n  position: relative;\n  border-radius: 2px;\n  background: rgba(255, 255, 255, 0.3);\n}\n.chimee-controlbar__volume__progress__track__volume {\n  width: 100%;\n  height: 40%;\n  bottom: 0;\n  border-radius: 2px;\n  background: #E94844;\n  position: absolute;\n}\n.chimee-controlbar__volume__progress__point {\n  bottom: 40%;\n  position: absolute;\n  margin-left: -8px;\n  margin-bottom: -10px;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background: rgba(233, 72, 68, 0.3);\n}\n.chimee-controlbar__volume__progress__point:before {\n  content: '';\n  position: absolute;\n  top: 5px;\n  left: 5px;\n  width: 10px;\n  height: 10px;\n  background: #FFF;\n  border-radius: 50%;\n}\n",""])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(i=r,c=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(l," */")),a=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot).concat(e," */")}));return[n].concat(a).concat([o]).join("\n")}var i,c,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(n,"}"):n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];null!=a&&(r[a]=!0)}for(var i=0;i<e.length;i++){var c=e[i];null!=c[0]&&r[c[0]]||(n&&!c[2]?c[2]=n:n&&(c[2]="(".concat(c[2],") and (").concat(n,")")),t.push(c))}},t}},function(e,t,n){"use strict";var r,o={},a=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}();function c(e,t){for(var n=[],r={},o=0;o<e.length;o++){var a=e[o],i=t.base?a[0]+t.base:a[0],c={css:a[1],media:a[2],sourceMap:a[3]};r[i]?r[i].parts.push(c):n.push(r[i]={id:i,parts:[c]})}return n}function l(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=o[r.id],i=0;if(a){for(a.refs++;i<a.parts.length;i++)a.parts[i](r.parts[i]);for(;i<r.parts.length;i++)a.parts.push(b(r.parts[i],t))}else{for(var c=[];i<r.parts.length;i++)c.push(b(r.parts[i],t));o[r.id]={id:r.id,refs:1,parts:c}}}}function s(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var r=n.nc;r&&(e.attributes.nonce=r)}if(Object.keys(e.attributes).forEach((function(n){t.setAttribute(n,e.attributes[n])})),"function"==typeof e.insert)e.insert(t);else{var o=i(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var u,m=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function p(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=m(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function _(e,t,n){var r=n.css,o=n.media,a=n.sourceMap;if(o&&e.setAttribute("media",o),a&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,d=0;function b(e,t){var n,r,o;if(t.singleton){var a=d++;n=h||(h=s(t)),r=p.bind(null,n,a,!1),o=p.bind(null,n,a,!0)}else n=s(t),r=_.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a());var n=c(e,t);return l(n,t),function(e){for(var r=[],a=0;a<n.length;a++){var i=n[a],s=o[i.id];s&&(s.refs--,r.push(s))}e&&l(c(e,t),t);for(var u=0;u<r.length;u++){var m=r[u];if(0===m.refs){for(var p=0;p<m.parts.length;p++)m.parts[p]();delete o[m.id]}}}}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(2),i=n.n(a),c=n(1),l=n.n(c),s=function(e){var t=~~(e/60),n=Math.floor(e%60);return isNaN(t)||isNaN(n)?"":(t>=10?t:"0"+t)+":"+(n>=10?n:"0"+n)},u=o.a.createContext({});var m=function(){var e=Object(r.useContext)(u),t=Object(r.useRef)(null),n=function(e){var t=Object(r.useState)(0),n=t[0],o=t[1],a=Object(r.useCallback)((function(){try{var t=e.buffered.end(0);o(t)}catch(e){console.log(e)}}),[]);return Object(r.useEffect)((function(){return e.$on("progress",a),function(){return e.$off("progress",a)}}),[]),n/e.duration||0}(e),a=function(e){var t=Object(r.useContext)(u),n=Object(r.useState)(0),o=n[0],a=n[1],i=Object(r.useState)(!1),c=i[0],l=i[1],s=Object(r.useState)(0),m=s[0],p=s[1],_=Object(r.useCallback)((function(t){var n=e.current.getBoundingClientRect(),r=n.width,o=n.left;a((t.pageX-o)/r)}),[e]),h=Object(r.useCallback)((function(n){var r=e.current.getBoundingClientRect(),o=r.width,i=r.left;t.currentTime=(n.pageX-i)/o*t.duration,a(0),l(!1),window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",h),window.removeEventListener("contextmenu",h)}),[e]),d=Object(r.useCallback)((function(){return p(t.currentTime)}),[]);return Object(r.useEffect)((function(){return t.$on("timeupdate",d)}),[]),{active:c,currentTime:c?o*t.duration:m,onMouseDown:function(n){isNaN(t.duration)?console.error("isNaN(duration) === true"):e.current&&(_(n),l(!0),window.addEventListener("mousemove",_),window.addEventListener("mouseup",h),window.addEventListener("contextmenu",h))}}}(t),i=a.active,c=a.currentTime,m=a.onMouseDown,p=100*(c?c/e.duration:0)+"%";return o.a.createElement("div",{className:l()("chimee-controlbar__progress",{active:i}),onMouseDown:m,ref:t},o.a.createElement("div",{className:"chimee-controlbar__progress__buff",style:{width:100*n+"%"}}),o.a.createElement("div",{className:"chimee-controlbar__progress__play",style:{width:p}}),o.a.createElement("div",{className:"chimee-controlbar__progress__point",style:{left:p}},o.a.createElement("div",{className:"chimee-controlbar__progress__point__text",onMouseDown:function(e){return e.stopPropagation()}},s(c)),o.a.createElement("div",{className:"chimee-controlbar__progress__point__circle"})))},p=function(){var e=Object(r.useContext)(u);return o.a.createElement("div",{className:"chimee-controlbar__play",onClick:function(){e.$emit("play")}},o.a.createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},o.a.createElement("path",{d:"M15.1797235,10.5406093 L3.53083201,17.8370951 C3.06278334,18.1302655 2.44569335,17.9884987 2.15252293,17.52045 C2.05285722,17.361333 2,17.1773718 2,16.989618 L2,1.01859462 C2,0.466309874 2.44771525,0.018594624 3,0.018594624 C3.18821633,0.018594624 3.3726117,0.0717124216 3.53198464,0.171840618 L15.1817983,7.49099332 C16.023567,8.01984592 16.2772357,9.13095409 15.7483831,9.97272288 C15.6040504,10.2024557 15.4096525,10.3965893 15.1797235,10.5406093 Z"})))},_=function(){var e=Object(r.useContext)(u);return o.a.createElement("div",{className:"chimee-controlbar__pause",onClick:function(){e.$emit("pause")}},o.a.createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},o.a.createElement("g",{id:"pause"},o.a.createElement("path",{d:"M14.5,0 L14.5,0 C15.3284271,-1.52179594e-16 16,0.671572875 16,1.5 L16,16.5 C16,17.3284271 15.3284271,18 14.5,18 L14.5,18 C13.6715729,18 13,17.3284271 13,16.5 L13,1.5 C13,0.671572875 13.6715729,1.52179594e-16 14.5,0 Z"}),o.a.createElement("path",{d:"M3.5,0 L3.5,0 C4.32842712,-1.52179594e-16 5,0.671572875 5,1.5 L5,16.5 C5,17.3284271 4.32842712,18 3.5,18 L3.5,18 C2.67157288,18 2,17.3284271 2,16.5 L2,1.5 C2,0.671572875 2.67157288,1.52179594e-16 3.5,0 Z"}))))},h=function(){var e=Object(r.useContext)(u),t=Object(r.useState)(!1),n=t[0],a=t[1];return Object(r.useEffect)((function(){return e.$on("play",(function(){return a(!0)})),e.$on("pause",(function(){return a(!1)})),function(){}}),[]),o.a.createElement("div",{className:"chimee-controlbar__button chimee-controlbar__play--state"},n?o.a.createElement(_,null):o.a.createElement(p,null))},d=function(){var e=Object(r.useContext)(u),t=Object(r.useState)("00:00"),n=t[0],a=t[1],i=Object(r.useState)("00:00"),c=i[0],l=i[1],m=function(){a(s(e.duration)),l(s(e.currentTime))};return Object(r.useEffect)((function(){return e.$on("load",m),e.$on("timeupdate",m),function(){}}),[]),o.a.createElement("div",{className:"chimee-controlbar__play--time"},o.a.createElement("span",{className:"chimee-controlbar__play--time__passed"},c),o.a.createElement("span",{className:"chimee-controlbar__play--time__spliter"},"/"),o.a.createElement("span",{className:"chimee-controlbar__play--time__total"},n))},b=function(){var e=Object(r.useContext)(u);return"function"!=typeof e.$config.onNext?null:o.a.createElement("div",{className:"chimee-controlbar__button chimee-controlbar__play--next"},o.a.createElement("div",{className:"chimee-controlbar__play--next_button",onClick:function(){return e.$config.onNext()}},o.a.createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},o.a.createElement("g",{id:"next"},o.a.createElement("path",{d:"M11.3533375,10.1853738 L1.5320776,16.3572169 C1.06446053,16.6510753 0.447162748,16.510216 0.153304405,16.042599 C0.0531388518,15.8832054 -8.30216278e-14,15.698775 -8.30446822e-14,15.5105214 L-8.23785484e-14,2.48947865 C-8.24461838e-14,1.9371939 0.44771525,1.48947865 1,1.48947865 C1.18825366,1.48947865 1.37268406,1.5426175 1.5320776,1.64278305 L11.3533375,7.81462617 C12.0080014,8.22602785 12.2052044,9.09024475 11.7938027,9.74490864 C11.6819217,9.92294502 11.5313739,10.0734928 11.3533375,10.1853738 Z"}),o.a.createElement("path",{d:"M16.5,0 L16.5,0 C17.3284271,-1.52179594e-16 18,0.671572875 18,1.5 L18,16.5 C18,17.3284271 17.3284271,18 16.5,18 L16.5,18 C15.6715729,18 15,17.3284271 15,16.5 L15,1.5 C15,0.671572875 15.6715729,1.52179594e-16 16.5,0 Z"})))))},f=[{value:.5,text:"0.5x"},{value:1,text:"1.0x"},{value:1.25,text:"1.25x"},{value:1.5,text:"1.5x"},{value:2,text:"2x"}],v=1,g=function(){var e=Object(r.useContext)(u),t=Object(r.useState)(null),n=t[0],a=t[1];Object(r.useEffect)((function(){setTimeout((function(){e.playbackRate=v}),10)}),[]);var i=Object(r.useCallback)((function(t){t!==n&&(e.playbackRate=t,a(v=t))}),[]);return o.a.createElement("div",{className:"chimee-controlbar__playback-rate"},o.a.createElement("div",{className:"chimee-controlbar__playback-rate__list__container"},o.a.createElement("ul",{className:"chimee-controlbar__playback-rate__list"},f.map((function(e){var t=e.value,r=e.text;return o.a.createElement("li",{key:t,onClick:function(){return i(t)},className:l()({active:t===n||null===n&&1===t})},r)})))),o.a.createElement("div",{className:"chimee-controlbar__playback-rate__text"},null===n?"倍数":f.find((function(e){return e.value===n})).text))},x=0,w=function(){var e=Object(r.useContext)(u);return o.a.createElement("div",{className:"chimee-controlbar__volume__button__normal",onClick:function(){return e.volume=0}},o.a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("path",{stroke:"#FFF",strokeWidth:"2",strokeLinejoin:"round",d:"M1 13h4l6 4V1L5 5H1z"}),o.a.createElement("path",{d:"M14.904 13.995A6.979 6.979 0 0 0 17 9a6.977 6.977 0 0 0-2.002-4.901",stroke:"#FFF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))))},E=function(){var e=Object(r.useContext)(u);return o.a.createElement("div",{className:"chimee-controlbar__volume__button__mute",onClick:function(){return e.volume=x}},o.a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("path",{d:"M12 13.828V17a1 1 0 0 1-1.555.832L4.697 14H1a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h1.172l2 2H2v6h3a1 1 0 0 1 .555.168L10 15.13v-3.303l2 2zm0-5.656l-2-2V2.869l-1.982 1.32-1.442-1.441 3.87-2.58A1 1 0 0 1 12 1v7.172zm3.416 3.415C15.796 10.793 16 9.913 16 9a5.976 5.976 0 0 0-1.716-4.201 1 1 0 1 1 1.428-1.4A7.976 7.976 0 0 1 18 9a7.975 7.975 0 0 1-1.108 4.064l-1.476-1.477zM1.293 1.707A1 1 0 1 1 2.707.293l15 15a1 1 0 0 1-1.414 1.414l-15-15z",fill:"#FFF",fillRule:"nonzero"}))))};var y=function(){var e,t=Object(r.useRef)(null),n=function(e){var t=Object(r.useContext)(u),n=Object(r.useState)(0),o=n[0],a=n[1],i=Object(r.useState)(!1),c=i[0],l=i[1],s=Object(r.useState)(t.volume),m=s[0],p=s[1],_=Object(r.useCallback)((function(t){var n=e.current.getBoundingClientRect(),r=n.bottom,o=n.height,i=Math.max(0,Math.min(1,(r-t.clientY)/o));a(i)}),[e]),h=Object(r.useCallback)((function(n){var r=e.current.getBoundingClientRect(),o=r.bottom,i=r.height,c=(o-n.clientY)/i;t.volume=Math.max(0,Math.min(1,c)),a(0),l(!1),window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",h),window.removeEventListener("contextmenu",h)}),[e]),d=Object(r.useCallback)((function(){return p(t.volume)}),[]);return Object(r.useEffect)((function(){return t.$on("volumechange",d)}),[]),{active:c,volume:c?o:m,onMouseDown:function(e){_(e),l(!0),window.addEventListener("mousemove",_),window.addEventListener("mouseup",h),window.addEventListener("contextmenu",h)}}}(t),a=n.active,i=n.volume,c=n.onMouseDown,s=100*i+"%";return e=Object(r.useContext)(u),Object(r.useEffect)((function(){x?e.volume=x:x=e.volume,e.$on("volumechange",(function(){0!==e.volume&&(x=e.volume)}))}),[]),o.a.createElement("div",{className:l()("chimee-controlbar__volume",{active:a})},o.a.createElement("div",{className:"chimee-controlbar__volume__progress__container"},o.a.createElement("div",{className:"chimee-controlbar__volume__progress"},o.a.createElement("div",{className:"chimee-controlbar__volume__progress__track",onMouseDown:c,ref:t},o.a.createElement("div",{className:"chimee-controlbar__volume__progress__track__volume",style:{height:s}}),o.a.createElement("div",{className:"chimee-controlbar__volume__progress__point",style:{bottom:s}})))),o.a.createElement("div",{className:"chimee-controlbar__button chimee-controlbar__volume__button"},0===i?o.a.createElement(E,null):o.a.createElement(w,null)))};function k(){var e=Object(r.useContext)(u);return Object(r.useCallback)((function(){e.$fullscreen(!e.isFullscreen,"container")}),[])}var C=function(){var e=k();return o.a.createElement("div",{className:"chimee-controlbar__fullscreen__button",onClick:e},o.a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{fillRule:"nonzero",stroke:"#FFF",strokeLinecap:"round",strokeWidth:"2"},o.a.createElement("path",{d:"M5 1H1v4M2 2l4 4"}),o.a.createElement("path",{d:"M13 17h4v-4M16 16l-4-4"}))))},j=function(){var e=k();return o.a.createElement("div",{className:"chimee-controlbar__unfullscreen__button",onClick:e},o.a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{fillRule:"nonzero",stroke:"#FFF",strokeLinecap:"round",strokeWidth:"2"},o.a.createElement("path",{d:"M16 12h-4v4M13 13l4 4"}),o.a.createElement("path",{d:"M2 6h4V2M5 5L1 1"}))))},O=function(){var e=Object(r.useContext)(u),t=Object(r.useState)(e.isFullscreen),n=t[0],a=t[1];return Object(r.useEffect)((function(){e.$on("fullscreenchange",(function(){return a(e.isFullscreen)}))}),[]),o.a.createElement("div",{className:"chimee-controlbar__fullscreen chimee-controlbar__button"},n?o.a.createElement(j,null):o.a.createElement(C,null))},N=(n(3),function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(m,null),o.a.createElement("div",{className:"chimee-controlbar__groups"},o.a.createElement("div",{className:"chimee-controlbar__float--left"},o.a.createElement(h,null),o.a.createElement(b,null),o.a.createElement(d,null)),o.a.createElement("div",{className:"chimee-controlbar__float--right"},o.a.createElement(g,null),o.a.createElement(y,null),o.a.createElement(O,null))))});t.default={Context:u,Plugins:{FullScreen:O,Next:b,Play:h,PlaybackRate:g,Progress:m,Time:d,Volume:y},name:"controlbar",inner:!0,el:'<div class="chimee-controlbar"></div>',create:function(){var e=N;"function"==typeof this.$config.render&&(e=this.$config.render),i.a.render(o.a.createElement(u.Provider,{value:this},o.a.createElement(e,null)),this.$dom)},events:{keydown:function(e){switch(e.stopPropagation(),e.keyCode){case 32:e.preventDefault(),this.paused?this.play():this.pause();break;case 37:e.preventDefault();var t=this.currentTime-10;this.currentTime=t<0?0:t;break;case 39:e.preventDefault();var n=this.currentTime+10;this.currentTime=n>this.duration?this.duration:n;break;case 38:e.preventDefault();var r=this.volume+.1;this.volume=r>1?1:r;break;case 40:e.preventDefault();var o=this.volume-.1;this.volume=o<0?0:o}},click:function(){var e=this,t=new Date,n=this.clickTime;this.clickTime=t,t-n<300?clearTimeout(this.clickTimeId):this.clickTimeId=setTimeout((function(){e.paused?e.play():e.pause()}),300)},dblclick:function(){this.$fullscreen(!this.isFullscreen,"container")}}}}]).default}));